(() => {
    "use strict";
    const t = document.querySelectorAll("[data-spoilers]");
    if (t.length > 0) {
        const n = Array.from(t).filter((function(t, e, i) {
            return !t.dataset.spoilers.split(",")[0]
        }));
        n.length > 0 && s(n);
        const o = Array.from(t).filter((function(t, e, i) {
            return t.dataset.spoilers.split(",")[0]
        }));
        if (o.length > 0) {
            const t = [];
            o.forEach((e => {
                const i = {},
                    n = e.dataset.spoilers.split(",");
                i.value = n[0], i.type = n[1] ? n[1].trim() : "max", i.item = e, t.push(i)
            }));
            let e = t.map((function(t) {
                return "(" + t.type + "-width: " + t.value + "px)," + t.value + "," + t.type
            }));
            e = e.filter((function(t, e, i) {
                return i.indexOf(t) === e
            })), e.forEach((e => {
                const i = e.split(","),
                    n = i[1],
                    o = i[2],
                    r = window.matchMedia(i[0]),
                    a = t.filter((function(t) {
                        if (t.value === n && t.type === o) return !0
                    }));
                r.addListener((function() {
                    s(a, r)
                })), s(a, r)
            }))
        }

        function s(t, e = !1) {
            t.forEach((t => {
                t = e ? t.item : t, e.matches || !e ? (t.classList.add("_init"), r(t), t.addEventListener("click", a)) : (t.classList.remove("_init"), r(t, !1), t.removeEventListener("click", a))
            }))
        }

        function r(t, e = !0) {
            const i = t.querySelectorAll("[data-spoiler]");
            i.length > 0 && i.forEach((t => {
                e ? (t.removeAttribute("tabindex"), t.classList.contains("_active") || (t.nextElementSibling.hidden = !0)) : (t.setAttribute("tabindex", "-1"), t.nextElementSibling.hidden = !1)
            }))
        }

        function a(t) {
            const e = t.target;
            if (e.hasAttribute("data-spoiler") || e.closest("[data-spoiler]")) {
                const n = e.hasAttribute("data-spoiler") ? e : e.closest("[data-spoiler]"),
                    o = n.closest("[data-spoilers]"),
                    s = !!o.hasAttribute("data-one-spoiler");
                o.querySelectorAll("._slide").length || (s && !n.classList.contains("_active") && l(o), n.classList.toggle("_active"), i(n.nextElementSibling, 500)), t.preventDefault()
            }
        }

        function l(t) {
            const i = t.querySelector("[data-spoiler]._active");
            i && (i.classList.remove("_active"), e(i.nextElementSibling, 500))
        }
    }
    let e = (t, e = 500) => {
            if (t.classList.contains("_slide")) return;
            t.classList.add("_slide");
            let i = t.style;
            i.transitionProperty = "height, margin, padding", i.transitionDuration = `${e}ms`, i.height = `${t.offsetHeight}px`, t.offsetHeight, i.overflow = "hidden", i.height = 0, i.paddingTop = 0, i.paddingBottom = 0, i.marginTop = 0, i.marginBottom = 0, setTimeout((() => {
                t.hidden = !0, ["height", "padding-top", "padding-bottom", "margin-top", "margin-bottom", "overflow", "transition-duration", "transition-property"].forEach((t => i.removeProperty(t))), t.classList.remove("_slide")
            }), e)
        },
        i = (t, i = 500) => {
            if (t.hidden) return ((t, e = 500) => {
                if (t.classList.contains("_slide")) return;
                t.classList.add("_slide"), t.hidden && (t.hidden = !1);
                let i = t.style,
                    n = t.offsetHeight;
                i.overflow = "hidden", i.height = 0, i.paddingTop = 0, i.paddingBottom = 0, i.marginTop = 0, i.marginBottom = 0, t.offsetHeight, i.transitionProperty = "height, margin, padding", i.transitionDuration = `${e}ms`, i.height = `${n}px`, ["padding-top", "padding-bottom", "margin-top", "margin-bottom"].forEach((t => i.removeProperty(t))), setTimeout((() => {
                    ["height", "overflow", "transition-duration", "transition-property"].forEach((t => i.removeProperty(t))), t.classList.remove("_slide")
                }), e)
            })(t, i);
            e(t, i)
        };
    const n = document.querySelector(".header__burger"),
        o = document.querySelector(".header__list");
    n.addEventListener("click", (() => {
        document.body.classList.toggle('_lock')
        o.classList.toggle("_active"), n.classList.toggle("_active")
    }))
})();